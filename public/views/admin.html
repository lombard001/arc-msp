<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>MSP2 Admin</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<script src="/particles.js"></script>

<div class="top-bar">
    <div class="site-name">MSP2 Admin</div>
    <div class="page-title">Control Panel</div>
</div>

<form action="/upload" method="POST" enctype="multipart/form-data">
    <input type="file" name="photo" required>
    <input type="text" name="photoName" placeholder="Fotoğraf ismi">
    <button type="submit">Yükle</button>
</form>

<div class="photo-container" id="photo-container">
    <!-- Fotoğraflar burada gösterilecek -->
</div>

<script>
    async function loadPhotos() {
        const response = await fetch('/list-photos');
        const data = await response.json();
        const container = document.getElementById('photo-container');
        container.innerHTML = '';
        data.forEach(photo=>{
            const div = document.createElement('div');
            div.className = 'photo-box';
            div.innerHTML = `<img src="/uploads/${photo.file}" alt="${photo.name}"><div>${photo.name}</div>
                             <form method="POST" action="/delete"><input type="hidden" name="fileName" value="${photo.file}"><button type="submit">Sil</button></form>`;
            container.appendChild(div);
        });
    }
    loadPhotos();
</script>

</body>
</html>
